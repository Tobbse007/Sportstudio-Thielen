<nav class="navbar-autohide fixed top-0 left-0 right-0 z-50 transition-all duration-300" id="thielen-navbar" data-bg-color="{{backgroundColor}}" style="background-color: {{backgroundColor}}; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
  <div class="{{containerWidth}} mx-auto px-6">
    <div class="flex items-center justify-between h-20">
      
      <!-- Logo Links -->
      <div class="flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity">
        <i class="fa-solid fa-dumbbell text-3xl text-[{{primaryColor}}]"></i>
        <div class="leading-tight">
          <div class="text-xl {{fontWeight}} text-[{{textColor}}]" contenteditable="true">Sportstudio Thielen</div>
          <div class="text-xs text-[{{textColor}}]/70 uppercase tracking-wider" contenteditable="true">Oldschool Gym</div>
        </div>
      </div>
      
      <!-- Menü Mitte (Desktop) -->
      <div class="hidden lg:flex items-center gap-1">
        <a href="#home" class="nav-link px-4 py-2 text-[{{textColor}}] hover:text-[{{primaryColor}}] hover:bg-[{{primaryColor}}]/5 rounded-lg transition-all duration-200 {{fontSize}} font-medium" contenteditable="true">Home</a>
        <a href="#about" class="nav-link px-4 py-2 text-[{{textColor}}] hover:text-[{{primaryColor}}] hover:bg-[{{primaryColor}}]/5 rounded-lg transition-all duration-200 {{fontSize}} font-medium" contenteditable="true">Über uns</a>
        <a href="#preise" class="nav-link px-4 py-2 text-[{{textColor}}] hover:text-[{{primaryColor}}] hover:bg-[{{primaryColor}}]/5 rounded-lg transition-all duration-200 {{fontSize}} font-medium" contenteditable="true">Preise</a>
        <a href="#blog" class="nav-link px-4 py-2 text-[{{textColor}}] hover:text-[{{primaryColor}}] hover:bg-[{{primaryColor}}]/5 rounded-lg transition-all duration-200 {{fontSize}} font-medium" contenteditable="true">Blog</a>
        <a href="#kontakt" class="nav-link px-4 py-2 text-[{{textColor}}] hover:text-[{{primaryColor}}] hover:bg-[{{primaryColor}}]/5 rounded-lg transition-all duration-200 {{fontSize}} font-medium" contenteditable="true">Kontakt</a>
      </div>
      
      <!-- CTA Button Rechts (Desktop) -->
      <div class="hidden lg:flex items-center gap-4">
        <a href="#mitglied-werden" class="px-6 py-3 bg-[{{primaryColor}}] hover:bg-[{{accentColor}}] text-white rounded-[{{borderRadius}}] {{fontWeight}} transition-all duration-300 hover:scale-105 hover:shadow-xl" contenteditable="true">
          <i class="fa-solid fa-calendar-check mr-2"></i>Platz buchen
        </a>
      </div>
      
      <!-- Mobile Menu Button -->
      <button class="lg:hidden text-[{{textColor}}] text-2xl p-2 hover:text-[{{primaryColor}}] transition-colors" onclick="toggleThielenMobileMenu()" aria-label="Menü öffnen">
        <i class="fas fa-bars" id="thielen-menu-icon"></i>
      </button>
    </div>
  </div>
  
  <!-- Mobile Menu Overlay -->
  <div id="thielen-mobile-menu" class="lg:hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-40 hidden" onclick="toggleThielenMobileMenu()">
    <div class="absolute right-0 top-0 h-full w-80 max-w-[85vw] bg-white shadow-2xl transform translate-x-full transition-transform duration-300" id="thielen-mobile-menu-panel" onclick="event.stopPropagation()">
      <!-- Mobile Header -->
      <div class="flex items-center justify-between p-6 border-b border-gray-200">
        <div class="flex items-center gap-2">
          <i class="fa-solid fa-dumbbell text-2xl text-[{{primaryColor}}]"></i>
          <div class="leading-tight">
            <div class="text-lg {{fontWeight}} text-[{{textColor}}]">Sportstudio Thielen</div>
            <div class="text-xs text-[{{textColor}}]/70">Oldschool Gym</div>
          </div>
        </div>
        <button onclick="toggleThielenMobileMenu()" class="text-gray-500 hover:text-gray-700 text-2xl p-2" aria-label="Menü schließen">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <!-- Mobile Navigation Links -->
      <div class="p-6 space-y-2">
        <a href="#home" onclick="toggleThielenMobileMenu()" class="flex items-center gap-3 py-3 px-4 text-gray-800 hover:text-[{{primaryColor}}] hover:bg-[{{primaryColor}}]/5 rounded-lg transition-all font-medium" contenteditable="true">
          <i class="fa-solid fa-home w-5"></i>
          <span>Home</span>
        </a>
        <a href="#about" onclick="toggleThielenMobileMenu()" class="flex items-center gap-3 py-3 px-4 text-gray-800 hover:text-[{{primaryColor}}] hover:bg-[{{primaryColor}}]/5 rounded-lg transition-all font-medium" contenteditable="true">
          <i class="fa-solid fa-circle-info w-5"></i>
          <span>Über uns</span>
        </a>
        <a href="#preise" onclick="toggleThielenMobileMenu()" class="flex items-center gap-3 py-3 px-4 text-gray-800 hover:text-[{{primaryColor}}] hover:bg-[{{primaryColor}}]/5 rounded-lg transition-all font-medium" contenteditable="true">
          <i class="fa-solid fa-tag w-5"></i>
          <span>Preise</span>
        </a>
        <a href="#blog" onclick="toggleThielenMobileMenu()" class="flex items-center gap-3 py-3 px-4 text-gray-800 hover:text-[{{primaryColor}}] hover:bg-[{{primaryColor}}]/5 rounded-lg transition-all font-medium" contenteditable="true">
          <i class="fa-solid fa-newspaper w-5"></i>
          <span>Blog</span>
        </a>
        <a href="#kontakt" onclick="toggleThielenMobileMenu()" class="flex items-center gap-3 py-3 px-4 text-gray-800 hover:text-[{{primaryColor}}] hover:bg-[{{primaryColor}}]/5 rounded-lg transition-all font-medium" contenteditable="true">
          <i class="fa-solid fa-envelope w-5"></i>
          <span>Kontakt</span>
        </a>
        
        <!-- Mobile CTA Button -->
        <a href="#mitglied-werden" onclick="toggleThielenMobileMenu()" class="flex items-center justify-center gap-2 mt-6 px-6 py-4 bg-[{{primaryColor}}] text-white rounded-lg {{fontWeight}} text-center hover:bg-[{{accentColor}}] transition-all shadow-lg" contenteditable="true">
          <i class="fa-solid fa-calendar-check"></i>
          <span>Platz buchen</span>
        </a>
      </div>
    </div>
  </div>
</nav>

<script>
// Auto-Hide Navbar beim Scrollen
(function() {
  let lastScrollTop = 0;
  const navbar = document.getElementById('thielen-navbar');
  const scrollThreshold = 100;
  
  if (!navbar) return;
  
  window.addEventListener('scroll', function() {
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    
    // Nur nach scrollThreshold aktivieren
    if (scrollTop > scrollThreshold) {
      if (scrollTop > lastScrollTop) {
        // Runterscrollen - Navbar verstecken
        navbar.style.transform = 'translateY(-100%)';
      } else {
        // Hochscrollen - Navbar anzeigen
        navbar.style.transform = 'translateY(0)';
      }
    } else {
      // Ganz oben - Navbar immer anzeigen
      navbar.style.transform = 'translateY(0)';
    }
    
    lastScrollTop = scrollTop;
  });
})();

// Mobile Menu Toggle
function toggleThielenMobileMenu() {
  const menu = document.getElementById('thielen-mobile-menu');
  const panel = document.getElementById('thielen-mobile-menu-panel');
  const icon = document.getElementById('thielen-menu-icon');
  
  if (!menu || !panel) return;
  
  const isOpen = !menu.classList.contains('hidden');
  
  if (isOpen) {
    // Schließen
    panel.classList.remove('translate-x-0');
    panel.classList.add('translate-x-full');
    setTimeout(() => {
      menu.classList.add('hidden');
      document.body.style.overflow = '';
    }, 300);
    if (icon) {
      icon.classList.remove('fa-times');
      icon.classList.add('fa-bars');
    }
  } else {
    // Öffnen
    menu.classList.remove('hidden');
    document.body.style.overflow = 'hidden';
    setTimeout(() => {
      panel.classList.remove('translate-x-full');
      panel.classList.add('translate-x-0');
    }, 10);
    if (icon) {
      icon.classList.remove('fa-bars');
      icon.classList.add('fa-times');
    }
  }
}
</script>